<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuckBot - Smart Expense Tracker</title>
    
    <style>
        
        :root {
            --primary-color: #6366f1;
            --primary-dark: #4f46e5;
            --secondary-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #475569;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
            --gradient-bg: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-card);
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-bg);
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo::before {
            content: 'üí∞';
            font-size: 28px;
        }

        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--border-color);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
        }

        .theme-toggle::before {
            content: 'üåô';
            position: absolute;
            top: 50%;
            left: 5px;
            transform: translateY(-50%);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        [data-theme="dark"] .theme-toggle::before {
            content: '‚òÄÔ∏è';
            left: 30px;
        }

        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: var(--bg-primary);
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="dark"] .theme-toggle::after {
            transform: translateX(30px);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-bg);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-label {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .stat-value {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .stat-value.income {
            color: var(--secondary-color);
        }

        .stat-value.expense {
            color: var(--danger-color);
        }

        .stat-value.balance {
            color: var(--primary-color);
        }

        .stat-value.negative {
            color: var(--danger-color);
        }

        .stat-trend {
            font-size: 14px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
        }

        .card h2 {
            margin-bottom: 25px;
            color: var(--text-primary);
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            position: relative;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
            outline: none;
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-group input::placeholder {
            color: var(--text-secondary);
        }

        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .transaction-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .transaction-table th,
        .transaction-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .transaction-table th {
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .transaction-table td {
            color: var(--text-primary);
            font-size: 15px;
        }

        .transaction-table tbody tr {
            transition: all 0.3s ease;
        }

        .transaction-table tbody tr:hover {
            background: var(--bg-secondary);
        }

        .amount-income {
            color: var(--secondary-color);
            font-weight: 700;
        }

        .amount-expense {
            color: var(--danger-color);
            font-weight: 700;
        }

        .no-transactions {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
            font-size: 18px;
        }

        .no-transactions::before {
            content: 'üìä';
            font-size: 64px;
            display: block;
            margin-bottom: 20px;
        }

        .delete-btn {
            background: none;
            border: none;
            color: var(--danger-color);
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: var(--danger-color);
            color: white;
        }

        .category-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .category-food {
            background: rgba(251, 146, 60, 0.1);
            color: #ea580c;
        }

        .category-bills {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
        }

        .category-shopping {
            background: rgba(168, 85, 247, 0.1);
            color: #7c3aed;
        }

        .category-other {
            background: rgba(107, 114, 128, 0.1);
            color: #374151;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .stat-value {
                font-size: 32px;
            }
        }

        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .quick-stat {
            text-align: center;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .quick-stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .quick-stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="logo">BuckBot</div>
            <button class="theme-toggle" onclick="toggleTheme()"></button>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Income</div>
                <div class="stat-value income" id="totalIncome">$0.00</div>
                <div class="stat-trend" id="incomeTrend">üìà Start tracking your income</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Expenses</div>
                <div class="stat-value expense" id="totalExpenses">$0.00</div>
                <div class="stat-trend" id="expenseTrend">üìâ No expenses yet</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Net Balance</div>
                <div class="stat-value balance" id="netBalance">$0.00</div>
                <div class="stat-trend" id="balanceTrend">üí∞ Your financial health</div>
            </div>
        </div>

        <div class="card">
            <h2>‚ú® Add New Transaction</h2>
            <div class="form-grid">
                <div class="form-group">
                    <input type="text" placeholder="Description (e.g., Coffee at Starbucks)" id="description">
                </div>
                <div class="form-group">
                    <input type="number" placeholder="Amount ($)" id="amount" step="0.01">
                </div>
                <div class="form-group">
                    <select id="category">
                        <option value="">Select Category</option>
                        <option value="food">üçΩÔ∏è Food & Dining</option>
                        <option value="bills">üè† Bills & Utilities</option>
                        <option value="shopping">üõçÔ∏è Shopping</option>
                        <option value="transport">üöó Transportation</option>
                        <option value="entertainment">üéÆ Entertainment</option>
                        <option value="health">üè• Health & Medical</option>
                        <option value="salary">üíº Salary</option>
                        <option value="freelance">üíª Freelance</option>
                        <option value="other">üì¶ Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <select id="type">
                        <option value="">Select Type</option>
                        <option value="income">üí∞ Income</option>
                        <option value="expense">üí∏ Expense</option>
                    </select>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary" onclick="addTransaction()">
                        ‚ûï Add Transaction
                    </button>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üìä Transaction History</h2>
            
            <div class="quick-stats" id="quickStats" style="display: none;">
                <div class="quick-stat">
                    <div class="quick-stat-value" id="transactionCount">0</div>
                    <div class="quick-stat-label">Total Transactions</div>
                </div>
                <div class="quick-stat">
                    <div class="quick-stat-value" id="avgTransaction">$0</div>
                    <div class="quick-stat-label">Avg Transaction</div>
                </div>
                <div class="quick-stat">
                    <div class="quick-stat-value" id="largestExpense">$0</div>
                    <div class="quick-stat-label">Largest Expense</div>
                </div>
            </div>

            <div class="filters" id="filters" style="display: none;">
                <button class="filter-btn active" onclick="filterTransactions('all')">All</button>
                <button class="filter-btn" onclick="filterTransactions('income')">Income</button>
                <button class="filter-btn" onclick="filterTransactions('expense')">Expenses</button>
                <button class="filter-btn" onclick="filterTransactions('today')">Today</button>
                <button class="filter-btn" onclick="filterTransactions('week')">This Week</button>
            </div>

            <div id="no-transactions" class="no-transactions">
                No transactions yet. Add your first transaction above to get started!
            </div>
            
            <table class="transaction-table" id="transactionTable" style="display: none;">
                <thead>
                    <tr>
                        <th>Description</th>
                        <th>Amount</th>
                        <th>Category</th>
                        <th>Type</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="transactionTableBody"></tbody>
            </table>
        </div>
    </div>

    <script>
        let transactions = JSON.parse(localStorage.getItem('buckbot-transactions')) || [];
        let currentFilter = 'all';

        // Theme functionality
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('buckbot-theme', newTheme);
            
            // Add a fun animation
            body.style.transform = 'scale(0.98)';
            setTimeout(() => {
                body.style.transform = 'scale(1)';
            }, 150);
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('buckbot-theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        }

        // Transaction functions
        function addTransaction() {
            const description = document.getElementById('description').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;
            const type = document.getElementById('type').value;
            
            if (!description || !amount || !category || !type) {
                showNotification('Please fill in all fields', 'error');
                return;
            }
            
            if (amount <= 0) {
                showNotification('Amount must be greater than 0', 'error');
                return;
            }
            
            const newTransaction = {
                id: Date.now(),
                description,
                amount,
                category,
                type,
                date: new Date().toISOString().split('T')[0],
                timestamp: new Date().toISOString()
            };
            
            transactions.unshift(newTransaction);
            saveTransactions();
            updateUI();
            clearForm();
            showNotification('Transaction added successfully!', 'success');
            
            // Add animation to the new row
            setTimeout(() => {
                const newRow = document.querySelector('#transactionTableBody tr:first-child');
                if (newRow) {
                    newRow.classList.add('fade-in');
                }
            }, 100);
        }

        function deleteTransaction(id) {
            if (confirm('Are you sure you want to delete this transaction?')) {
                transactions = transactions.filter(t => t.id !== id);
                saveTransactions();
                updateUI();
                showNotification('Transaction deleted', 'success');
            }
        }

        function clearForm() {
            document.getElementById('description').value = '';
            document.getElementById('amount').value = '';
            document.getElementById('category').value = '';
            document.getElementById('type').value = '';
        }

        function saveTransactions() {
            localStorage.setItem('buckbot-transactions', JSON.stringify(transactions));
        }

        function updateUI() {
            updateStats();
            updateTransactionTable();
            updateQuickStats();
        }

        function updateStats() {
            const totalIncome = transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const totalExpenses = transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const netBalance = totalIncome - totalExpenses;
            
            document.getElementById('totalIncome').textContent = `$${totalIncome.toFixed(2)}`;
            document.getElementById('totalExpenses').textContent = `$${totalExpenses.toFixed(2)}`;
            document.getElementById('netBalance').textContent = `$${netBalance.toFixed(2)}`;
            
            const balanceElement = document.getElementById('netBalance');
            balanceElement.className = `stat-value ${netBalance < 0 ? 'negative' : 'balance'}`;
            
            // Update trends
            const incomeCount = transactions.filter(t => t.type === 'income').length;
            const expenseCount = transactions.filter(t => t.type === 'expense').length;
            
            document.getElementById('incomeTrend').textContent = 
                incomeCount > 0 ? `üìà ${incomeCount} income transactions` : 'üìà Start tracking your income';
            document.getElementById('expenseTrend').textContent = 
                expenseCount > 0 ? `üìâ ${expenseCount} expense transactions` : 'üìâ No expenses yet';
            document.getElementById('balanceTrend').textContent = 
                netBalance > 0 ? 'üí∞ Positive balance!' : netBalance < 0 ? '‚ö†Ô∏è Negative balance' : 'üí∞ Your financial health';
        }

        function updateQuickStats() {
            const quickStats = document.getElementById('quickStats');
            
            if (transactions.length === 0) {
                quickStats.style.display = 'none';
                return;
            }
            
            quickStats.style.display = 'grid';
            
            const totalTransactions = transactions.length;
            const avgTransaction = transactions.reduce((sum, t) => sum + t.amount, 0) / totalTransactions;
            const largestExpense = Math.max(...transactions.filter(t => t.type === 'expense').map(t => t.amount), 0);
            
            document.getElementById('transactionCount').textContent = totalTransactions;
            document.getElementById('avgTransaction').textContent = `$${avgTransaction.toFixed(0)}`;
            document.getElementById('largestExpense').textContent = `$${largestExpense.toFixed(0)}`;
        }

        function filterTransactions(filterType) {
            currentFilter = filterType;
            
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateTransactionTable();
        }

        function getFilteredTransactions() {
            let filtered = transactions;
            
            switch (currentFilter) {
                case 'income':
                    filtered = transactions.filter(t => t.type === 'income');
                    break;
                case 'expense':
                    filtered = transactions.filter(t => t.type === 'expense');
                    break;
                case 'today':
                    const today = new Date().toISOString().split('T')[0];
                    filtered = transactions.filter(t => t.date === today);
                    break;
                case 'week':
                    const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
                    filtered = transactions.filter(t => t.date >= weekAgo);
                    break;
            }
            
            return filtered;
        }

        function updateTransactionTable() {
            const tbody = document.getElementById('transactionTableBody');
            const table = document.getElementById('transactionTable');
            const noTransactions = document.getElementById('no-transactions');
            const filters = document.getElementById('filters');
            
            const filteredTransactions = getFilteredTransactions();
            
            if (transactions.length === 0) {
                table.style.display = 'none';
                noTransactions.style.display = 'block';
                filters.style.display = 'none';
                return;
            }
            
            filters.style.display = 'flex';
            
            if (filteredTransactions.length === 0) {
                table.style.display = 'none';
                noTransactions.innerHTML = `
                    <div style="font-size: 48px; margin-bottom: 20px;">üîç</div>
                    No transactions found for the selected filter.
                `;
                noTransactions.style.display = 'block';
                return;
            }
            
            table.style.display = 'table';
            noTransactions.style.display = 'none';
            tbody.innerHTML = '';
            
            filteredTransactions.forEach(transaction => {
                const row = document.createElement('tr');
                const categoryClass = `category-${transaction.category}`;
                
                row.innerHTML = `
                    <td>
                        <div style="font-weight: 600; margin-bottom: 2px;">${transaction.description}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${getCategoryIcon(transaction.category)} ${transaction.category}</div>
                    </td>
                    <td class="amount-${transaction.type}">$${transaction.amount.toFixed(2)}</td>
                    <td><span class="category-badge ${categoryClass}">${transaction.category}</span></td>
                    <td style="text-transform: capitalize; font-weight: 600;">${transaction.type}</td>
                    <td>${formatDate(transaction.date)}</td>
                    <td>
                        <button class="delete-btn" onclick="deleteTransaction(${transaction.id})" title="Delete transaction">
                            üóëÔ∏è
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function getCategoryIcon(category) {
            const icons = {
                food: 'üçΩÔ∏è',
                bills: 'üè†',
                shopping: 'üõçÔ∏è',
                transport: 'üöó',
                entertainment: 'üéÆ',
                health: 'üè•',
                salary: 'üíº',
                freelance: 'üíª',
                other: 'üì¶'
            };
            return icons[category] || 'üì¶';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const today = new Date();
            const yesterday = new Date(today);
            yesterday.setDate(yesterday.getDate() - 1);
            
            if (date.toDateString() === today.toDateString()) {
                return 'Today';
            } else if (date.toDateString() === yesterday.toDateString()) {
                return 'Yesterday';
            } else {
                return date.toLocaleDateString();
            }
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 12px;
                color: white;
                font-weight: 600;
                z-index: 1000;
                transform: translateX(100%);
                transition: all 0.3s ease;
                box-shadow: var(--shadow-lg);
            `;
            
            if (type === 'success') {
                notification.style.background = 'var(--secondary-color)';
                notification.innerHTML = `‚úÖ ${message}`;
            } else if (type === 'error') {
                notification.style.background = 'var(--danger-color)';
                notification.innerHTML = `‚ùå ${message}`;
            } else {
                notification.style.background = 'var(--primary-color)';
                notification.innerHTML = `‚ÑπÔ∏è ${message}`;
            }
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'n':
                        e.preventDefault();
                        document.getElementById('description').focus();
                        break;
                    case 't':
                        e.preventDefault();
                        toggleTheme();
                        break;
                }
            }
        });

        // Auto-save form data
        function autoSaveForm() {
            const formData = {
                description: document.getElementById('description').value,
                amount: document.getElementById('amount').value,
                category: document.getElementById('category').value,
                type: document.getElementById('type').value
            };
            localStorage.setItem('buckbot-form-data', JSON.stringify(formData));
        }

        function loadFormData() {
            const saved = localStorage.getItem('buckbot-form-data');
            if (saved) {
                const data = JSON.parse(saved);
                document.getElementById('description').value = data.description || '';
                document.getElementById('amount').value = data.amount || '';
                document.getElementById('category').value = data.category || '';
                document.getElementById('type').value = data.type || '';
            }
        }

        // Add auto-save listeners
        document.getElementById('description').addEventListener('input', autoSaveForm);
        document.getElementById('amount').addEventListener('input', autoSaveForm);
        document.getElementById('category').addEventListener('change', autoSaveForm);
        document.getElementById('type').addEventListener('change', autoSaveForm);

        // Clear form data on successful submission
        function clearFormData() {
            localStorage.removeItem('buckbot-form-data');
        }

        // Update the addTransaction function to clear saved form data
        function addTransaction() {
            const description = document.getElementById('description').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;
            const type = document.getElementById('type').value;
            
            if (!description || !amount || !category || !type) {
                showNotification('Please fill in all fields', 'error');
                return;
            }
            
            if (amount <= 0) {
                showNotification('Amount must be greater than 0', 'error');
                return;
            }
            
            const newTransaction = {
                id: Date.now(),
                description,
                amount,
                category,
                type,
                date: new Date().toISOString().split('T')[0],
                timestamp: new Date().toISOString()
            };
            
            transactions.unshift(newTransaction);
            saveTransactions();
            updateUI();
            clearForm();
            clearFormData(); // Clear saved form data
            showNotification('Transaction added successfully!', 'success');
            
            // Add animation to the new row
            setTimeout(() => {
                const newRow = document.querySelector('#transactionTableBody tr:first-child');
                if (newRow) {
                    newRow.classList.add('fade-in');
                }
            }, 100);
        }

        // Add some fun interactions
        function addInteractiveElements() {
            // Add hover effect to stat cards
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    const value = this.querySelector('.stat-value');
                    value.classList.add('pulse');
                });
                
                card.addEventListener('mouseleave', function() {
                    const value = this.querySelector('.stat-value');
                    value.classList.remove('pulse');
                });
            });
        }

        // Initialize app
        function init() {
            loadTheme();
            loadFormData();
            updateUI();
            addInteractiveElements();
            
            // Welcome message for first-time users
            if (transactions.length === 0) {
                setTimeout(() => {
                    showNotification('Welcome to BuckBot! Start by adding your first transaction.', 'info');
                }, 1000);
            }
        }

        // Start the app
        init();
    </script>
</body>
</html>